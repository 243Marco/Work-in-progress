<canvas id="canvas" style="border:1px #808080 dashed"></canvas>

<script language="javascript">
canvasInit();

d0="M37.2104,173.9185l-4.729-3.1582h-7.8101c-8.5967,0-15.5903-6.9932-15.5903-15.5898V28.1777"+
"c0-8.5967,6.9937-15.5903,15.5903-15.5903h245.7642c8.5967,0,15.5908,6.9937,15.5908,15.5903v126.9927"+
"c0,8.5967-6.9941,15.5898-15.5908,15.5898h-10.4219l-4.9375,3.1582H37.2104z";
d1="M25.647,185.4146c-17.3618,0-31.4868-13.9883-31.4868-31.1816V26.6743c0-17.1934,14.125-31.1807,31.4868-31.1807h244.7065c17.3623,0,31.4873,13.9873,31.4873,31.1807v127.5586c0,17.1934-14.125,31.1816-31.4873,31.1816H25.647z";
d2="M25.647,178.3276c-13.4546,0-24.4004-10.8086-24.4004-24.0947V26.6743c0-13.2856,10.9458-24.0942,24.4004-24.0942h244.7065c13.4541,0,24.4004,10.8086,24.4004,24.0942v127.5586c0,13.2861-10.9463,24.0947-24.4004,24.0947H25.647z";
d3="M122.377,178.4185l-5.7534-2.9258H25.71c-11.8916,0-21.5659-9.5371-21.5659-21.2598v-4.4443l3-4.834v-48.793l-1.5-2.167V59.2778l1.5-2.834V35.313l-3-6.166v-2.4727c0-11.7227,9.6743-21.2598,21.5659-21.2598h244.707c11.8906,0,21.5645,9.5371,21.5645,21.2598v2.4043l-3.166,5.834v109.25l3.166,6.334v3.7363c0,11.7227-9.6738,21.2598-21.5645,21.2598h-13.7344l-5.166,2.9258H122.377z";

paths = [d0, d1, d2, d3];
colors = [[0, 0, 0, 0.3], [255, 0, 0, 0.3], [0, 255, 0, 0.3], [0, 0, 255, 0.3]];

for ( var i in paths )
{
  var pos = 0;
  var path = paths[i];
  canvasColor(colors[i]);
  while ( pos < path.length && (token = getToken(path, pos)) && token.length > 0 )
  {
    processToken(token);
    pos += token.length;
  }
}

function getToken(str, pos)
{
  var tests = [
    /^([M])([\-]?[\d\.]+)([\-|\,][\d\.]+)/,
    /^([l|L])([\-]?[\d\.]+)([\-|\,][\d\.]+)/,
    /^([h|v|H|V])([\-]?[\d\.]+)/,
    /^([c|C])([\-]?[\d\.]+)([\-|\,][\d\.]+)([\-|\,][\d\.]+)([\-|\,][\d\.]+)([\-|\,][\d\.]+)([\-|\,][\d\.]+)/,
    /^(z)/
   ];

  var matches = [];

  for ( var i in tests )
  {
    matches = tests[i].exec(str.substr(pos));
    if ( matches && matches.length > 0 )
    {
      var token = matches.splice(0, 1)[0];
      var type = matches.splice(0, 1)[0];
      for ( var i in matches )
      {
        if ( matches[i][0] == "," )
          matches[i] = parseFloat(matches[i].substr(1));
        else
          matches[i] = parseFloat(matches[i]);
      }
      return {type:type, length:token.length, attributes:matches};
    }
  }
 console.log("Unknown command " + str[pos]);
} 

// canvas
function canvasInit()
{
	var can = document.getElementById("canvas");
	ctx = can.getContext('2d');	
	ctx.width = can.width = 640;
	ctx.height = can.height = 480;
  ctx.strokeStyle = "rgba(0, 0, 0, 0.3)";
  ctx.lineWidth = 2;
  position = {x:0, y:0};
}

function canvasColor(clr)
{
  ctx.strokeStyle = "rgba("+clr.join(",")+")";
}

function makePos(x, y)
{
  return {x:x, y:y};
}
function scalePos(p)
{
  return {x:p.x*2+20, y:p.y*2+20};
}
function addPos(p1, p2)
{
  return {x:p1.x+p2.x, y:p1.y+p2.y};
}

function processToken(token)
{
  var args = token.attributes;
  if (token.type == "M")
  {
    // move to: X, Y
    ctx.beginPath();
    position = makePos(args[0], args[1]);
    var tmp = scalePos(position);
    ctx.moveTo( tmp.x, tmp.y );
    return;
  }
  if ( token.type == "l" )
  {
    position = addPos(position, makePos(args[0], args[1]));
    var tmp = scalePos(position);
    ctx.lineTo( tmp.x, tmp.y );
    return;
  }
  if ( token.type == "L" )
  {
    position = makePos(args[0], args[1]);
    var tmp = scalePos(position);
    ctx.lineTo( tmp.x, tmp.y );
    return;
  }
  if ( token.type == "h" )
  {
    position = addPos(position, {x:makePos(args[0], 0).x, y:0});
    var tmp = scalePos(position);
    ctx.lineTo( tmp.x, tmp.y );
    return;
  }
  if ( token.type == "v" )
  {
    position = addPos(position, {x:0, y:makePos(0, args[0]).y});
    var tmp = scalePos(position);
    ctx.lineTo( tmp.x, tmp.y );
    return;
  }
  if ( token.type == "H" )
  {
    position = {x:makePos(args[0], 0).x, y:position.y};
    var tmp = scalePos(position);
    ctx.lineTo( tmp.x, tmp.y );
    return;
  }
  if ( token.type == "V" )
  {
    position = {x:position.x, y:makePos(0, args[0]).y};
    var tmp = scalePos(position);
    ctx.lineTo( tmp.x, tmp.y );
    return;
  }
  if ( token.type == "c" )
  {
    var p1 = addPos(position, makePos(args[0], args[1]));
    var p2 = addPos(position, makePos(args[2], args[3]));
    var pn = addPos(position, makePos(args[4], args[5]));
    position = pn;
    p1 = scalePos(p1);
    p2 = scalePos(p2);
    pn = scalePos(pn);
    ctx.bezierCurveTo(p1.x, p1.y, p2.x, p2.y, pn.x, pn.y);
    return;
  }
  if ( token.type == "z" )
  {
    ctx.stroke();
    return;
  }
  console.log("Dont know how to draw "+token.type);
}

</script>