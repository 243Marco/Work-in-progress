window.logic60=function()
{while(1){switch(B)
{case 0:if(!(E(DT))){A(500);break}
AT(20);CX(23);CX(29);BY(166);if(AGI.C)return;CY(8);CY(109);CY(91);CY(134);CW(Ck);BJ(Ck);BF(166);if(AGI.C)return;m(o2);p(o2,134);AG(o2,37,29);AM(o2);AJ(o2);if(!(J(Cl,61))){A(501);break}
AG(Ego,140,163);G(f31);A(1);break;case 501:AG(Ego,118,32);AC(Ego,14);F(f31);case 1:AJ(Ego);BM();case 500:if(E(f39)){G(f39);Bg("You fall to your death on the hard stone floor.");F(f50)}
if(N(v34,0)){A(6);break}
if(BO(Ego,95,132,134,132)){L(v31,1);AC(Ego,12);A(2);break}
if(J(v31,1)){L(v31,0);AL(Ego,v105,v106);if(N(v106,132)){AE(Ego);AZ(Ego);G(f30);A(2);break}
AC(Ego,12);AY(Ego);F(f30)}
case 2:if(BO(Ego,18,82,50,82)){L(v31,2);AC(Ego,14);F(f31);A(3);break}
if(J(v31,2)){L(v31,0);AL(Ego,v105,v106);if(N(v106,82)){AC(Ego,14);F(f31);G(f30);AZ(Ego);A(3);break}
AC(Ego,12);G(f31);F(f30);AY(Ego)}
case 3:if(E(f31)){if((BO(Ego,74,81,74,81)||BO(Ego,75,80,75,80))){L(v30,3);A(5);break;A(4);break}
if((BO(Ego,79,76,79,76)||BO(Ego,80,75,80,75)||BO(Ego,81,73,81,73)||BO(Ego,82,72,82,72)||BO(Ego,83,71,83,71)||BO(Ego,84,69,84,69)||BO(Ego,85,68,85,68)||BO(Ego,86,67,86,67))){L(v30,2);A(5);break}}
case 4:if(!E(DR)){A(9);break}
if(BO(Ego,84,30,102,42)){L(v30,1);A(5);break}
if(BO(Ego,79,42,97,66)){L(v30,2);A(5);break}
if((BO(Ego,63,77,73,81)||BO(Ego,69,82,74,83)||BO(Ego,67,83,68,84)||BO(Ego,63,85,66,85))){L(v30,3);A(5);break}
if((BO(Ego,47,76,62,81)||BO(Ego,47,82,62,87))){L(v30,4);A(5);break}
if(BO(Ego,72,83,94,105)&&!E(f31)){L(v30,5);A(5);break}
if(BO(Ego,90,106,104,134)){L(v30,6);A(5);break}
if(BO(Ego,100,130,108,143)){L(v30,7);A(5);break}
if(BO(Ego,103,144,109,153)&&N(Cr,4)){L(v30,8);A(5);break}
A(9);break;case 5:if(!N(v34,0)){AY(Ego);L(v34,1);if(!J(v30,8)){BN(29,f34);F(f92);p(Ego,8);L(v94,2);AS(Ego,v94);L(v94,3);Ai(Ego,v94)}
if(J(v30,1)){Ak(Ego,92,80,4,f32);AC(Ego,12);A(6);break}
if(J(v30,2)){Ak(Ego,85,80,4,f32);AC(Ego,13);A(6);break}
if(N(v30,2)&&P(v30,6)){F(f32);AC(Ego,12);A(6);break}
if(N(v30,5)){F(f32)}}
case 6:if(J(v34,1)&&E(f32)){L(v34,2);if(P(v30,3)){Ak(Ego,88,166,4,f32);A(7);break}
if(J(v30,3)){Ak(Ego,67,148,4,f32);A(7);break}
if(J(v30,4)){Ak(Ego,52,148,4,f32);A(7);break}
if(J(v30,5)){Ak(Ego,81,144,4,f32);A(7);break}
if(J(v30,6)){Ak(Ego,90,152,4,f32);A(7);break}
if(J(v30,7)){Ak(Ego,94,152,4,f32);A(7);break}
if(J(v30,8)){Ak(Ego,102,154,2,f32)}}
case 7:if(J(v34,2)){if(E(f32)){L(v34,3);if(J(v30,8)){G(f32);A(8);break}
Ag(Ego);if(P(v30,3)){CC();p(Ego,91);F(f39);F(f38);A(8);break}
p(Ego,109);L(v94,2);AS(Ego,v94);L(v35,50);F(f33);G(f34);BN(23,f37)}}
case 8:if(E(f37)&&N(v35,1)){BN(23,f37)}
if(!E(f38)&&J(v34,3)){if(!N(v35,0)){if(!J(v30,8)){Ah(Ego);L(v67,4);L(v68,0);Aw(Ego,v67,v68);p(Ego,0);L(v94,1);AS(Ego,v94);Ai(Ego,v94);r(Ego,2)}
L(v34,0);G(f92);AZ(Ego);AE(Ego);G(f31);L(v31,0);G(f30);A(9);break}
U(v35)}
case 9:if(E(f30)&&!E(DR)){AL(Ego,v32,v33);A(10);break}
if(E(f30)&&!N(v34,0)){AH(Ego,v32,v33)}
case 10:if(!E(DQ)){A(13);break}
if((D("check out")||D("check out","antique shop")||D("check out","swim"))){Bg("There is a ramp spiraling up toward the top of a gloomy tower. A torch blazes on the wall.")}
if((D("check out","ramp")||D("check out","stairs"))){Bg("The ramp spirals steeply upward. Be careful, you don't want to fall.")}
if(D("check out","torch")){Bg("The torch lends the only warmth to this dreary castle.")}
if(D("acquire","torch")){if(BO(Ego,35,62,49,74)){Bg("The torch is firmly attached to the wall. Try as you might, you cannot budge it.");A(11);break}
Bg("You can't do that from where you are standing.")}
case 11:if(!(!E(DS)&&D("light","candle"))){A(502);break}
if(!(BT("Candle"))){A(503);break}
if(!(BO(Ego,35,62,49,74))){A(504);break}
if(!(!E(f106))){A(505);break}
F(f106);Bg("You hold your candle up to the blazing torch. It catches! Your candle is now lit.");if(!(!E(f158))){A(506);break}
W(Cn,1);F(f158);case 506:case 505:A(12);break;case 504:Bg("You can't do that from where you are standing.");case 12:A(13);break;case 503:Bg("You are not carrying it.");case 502:case 13:AL(Ego,v94,v33);if(E(DR)&&N(v94,145)){H(61);if(AGI.C)return}
if(J(Cm,1)){H(59);if(AGI.C)return}
BF(166);if(AGI.C)return;return}}}
MESSAGES[60]=["","There is a ramp spiraling up toward the top of a gloomy tower. A torch blazes on the wall.","The ramp spirals steeply upward. Be careful, you don't want to fall.","The torch lends the only warmth to this dreary castle.","The torch is firmly attached to the wall. Try as you might, you cannot budge it.","You hold your candle up to the blazing torch. It catches! Your candle is now lit.","You can't do that from where you are standing.","You are not carrying it.","You fall to your death on the hard stone floor."];CONTROLS[60]="/P5.!/U5.x/Z5.r/g5.l><g7<45.g><g7<95.Z><g7<E5.U><l7<95.U><l7<E5.P><l7<E5.P><l7<E5.P><r7<E5.K><r7<E5.K><r7<E5.K><r7<E5.K><r7<E5.K><r7<E5.K><r7<E5.K><l7<E5.P><l7<E5.P><l7<E5.P><l7<E5.P><l7<E5.P><l7<E5.P><l7<E5.P><g7<E5.U><g7<E5.U><g7<95.Z><g7<95.Z><Z7<95.g><Z7<95.g><Z7<95.g><Z7<45.l><U7<95.l><U7<45.r><U7<45.r><U7.,5.x>.Z5+7<45.x>.PH+7.,5.!>.EAKSl7.,5.!>.4AxSE7.,5.^>{A.9H.,5.^>+5C<.E5.+>.4H<,5.+>.KH<!5.{>.ZN<g5.{>.xH<K5.,>.+H.,5<4><4C.+5<4><47.+5<9><47.^5<E>.,7.+5<E>.,7.^5<K>.{7.^5<P>.+7.+5<P>.+7.^5<U>.^7.^5<Z>.^7.^5<Z>.!7.^5<g>.x7.^5<l<!s<U7.!5<r<Paxa.+7.^5<r<4L.lL.l7.^5<x.{A<4L.K7.^5<!.^A<ZF.47.!5<^.xA<!L!7.!5<+.r5<.9Lg7.x5<{.l5<.ZA<45<{.g5<.r7.{5<,.Z5<.!C.!5<.4.U5<.{C.l5<.9.U5>4C.U6<.E.P5>KC.E6<.K.K5>ZC,6<.P.K5>l7+6<.U.E5>xCx6<.Z.E5<ZX<47l6<.g.E5<U7ZH+6.4CU6<.l.E5<P7xC.{7K6<.r.95<P7+7.{796<.x.95<K7,7.{67<.x.95<K7.47.^69C<.r.95<E7.9N.l6P7<.l.95<K7,7.!6Z7<.g.95<K7+CU7.U6l5<.Z.E5<K7xCl7.K6x5<.U.E5<KCUN!7.96^5<.P.E5<US.47,6+5<.P.E5<.x7{6,5<.K.E5<.!7^6.95<.E.E5<.^7x6.K5<.9.K5<.^7gB.U5<.4.K5<.+7U6.l5<,.P5<.+7EB.r5<,.P5<.{67.^5<{.U5<.^697.+5<+.U5<.xBE7.{5<^.Z5<.l6U7.{5<!.g5<.UBg7.+5<!.l5<.EBx7.+5<x.r5<,B+7.+5<r.x5<!G,7.+5<r.!5<lB.K7.+5<l.^A<KG.Z7.+5<g.{A.,B.x7.+5<Z<4A.lR.^7.+5<Z<EF,W<E7.+5<U<U@G<r7.+5<P>.+7.+5<P>.{7.+5<K>.,7.^5<K>.,7.+5<E><47.^5<E><47.+5<9><97.+5<4><97.+5<4>,.1K7.+5.,>Pz,6K7.+5.,<.{W.!6K7.+5.{<.xM<96K7.+5.{<.ZM<Z6E7.{5.+<.EM<x6K7.+5.+<.4B<,6E7.{5.^<+G<.96E7.{5.^<!B<.U6E7.{5.!<rB<.g6E7.{5.!<gB<.r6E7.{5.!<UB<.^697.,5.x<KB<.{6E7.{5.x<E6>9697.,5.r<96>E697.,5.r<46>P697.,5.l.,6<.l_97.,5.l.{6<.x6xB97.,5.l.+6<.^6rBE7.,5.g.^6<.{6lBE7.,5.g.!6>46ZM97.,5.g.x6>EBKR97<45.Z.r6>U69WE7.,5.Z.r6>ZbE7<45.U.l6>lWE7<45.U.l6>rRE7<45.U.g6>!RE7<45.P.g6>^ME7<45.P.Z6>{GE7<45.P.Z6>,G97<45.P.U6>.4GE7.,5.P.U6>.9G97.,5.P.P6>.KB97.,5.P.P6>.P697<45.K.P6>.U697.,5.K.P6>.U697.,5.K.K6>.g67.,5.K.K6<.xR.r6.,5.K.K6<.PWUB<.g5.K.K6<.4M+B<.Z.F.K6<.46.EB<.!7!.E6<.96.K6<.^7x.E6<.E6.K6<.!7x.E6<.E6.K6<.^7r.E6<.K6.E6<.+7l.E6<.K6.9B<.+7l.E6<.P6{B>47g.E6<.P6gb>E7g.K6<.Pb>x7Z.K6/Z7U.K6/Z7U.K6/g7P";