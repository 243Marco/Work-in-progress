window.logic66=function()
{while(1){switch(B)
{case 0:if(!(E(DT))){A(500);break}
L(v84,4);BY(166);if(AGI.C)return;CX(23);CX(29);CY(109);CY(99);CY(100);if(!(N(v92,66))){A(501);break}
CY(51);CY(52);CY(53);m(o3);L(v84,1);A(1);break;case 501:CY(173);m(o2);L(v94,3);Ai(o2,v94);As(o2);p(o2,173);case 1:L(v33,95);CW(v33);if(!(J(Cl,65))){A(502);break}
if(!(N(v60,0))){A(503);break}
G(f31);CY(91);AG(Ego,45,32);Ak(Ego,45,108,4,f30);L(v84,1);A(2);break;case 503:AG(Ego,73,37);case 2:A(3);break;case 502:AG(Ego,11,150);case 3:if(!(E(f106))){A(504);break}
L(v30,1);G(f162);CY(8);CW(Ck);BJ(Ck);Bu(Ck);A(4);break;case 504:L(v30,0);F(f162);L(v84,1);p(Ego,99);BJ(v33);AC(Ego,12);if(!(N(v92,66))){A(505);break}
AC(o3,4);case 505:case 4:AJ(Ego);BM();case 500:if(!E(f35)&&E(f36)&&(N(v60,0)||N(v31,0))){G(f36);BN(29,f31)}
if(!(J(v84,2))){A(506);break}
l(0,255,v106);if(!(P(v106,125))){A(507);break}
AG(o2,36,132);A(5);break;case 507:AG(o2,96,129);case 5:AJ(o2);Aa(o2);An(o2);L(v84,3);A(6);break;case 506:l(0,255,v106);if(J(v84,4)){if(P(v106,3)){L(v84,2)}
A(6);break}
if(J(v84,3)&&P(v106,15)){Ak(o2,81,159,0,f33)}
case 6:if(E(f33)){if(J(v84,5)){Ak(o2,36,132,0,f33);L(v84,6);A(7);break}
if(J(v84,7)){Ak(o2,96,129,0,f33);L(v84,6);A(7);break}
if(J(v84,6)){AK(o2);Ab(o2);G(f33);L(v84,4);A(7);break}
l(0,255,v106);if(P(v106,125)){Ak(o2,36,153,0,f33);L(v84,5);A(7);break}
Ak(o2,96,144,0,f33);L(v84,7)}
case 7:if(BO(Ego,106,33,147,52)){AT(30);A(8);break}
AT(36);case 8:if(!(!N(v31,0))){A(508);break}
if(!((BO(Ego,93,56,98,68)||BO(Ego,62,107,69,112)||BO(Ego,72,137,78,143)))){A(509);break}
if(!((J(Cr,0)||J(Cr,1)||J(Cr,5)))){A(510);break}
AY(Ego);A(9);break;case 510:AZ(Ego);case 9:A(12);break;case 509:if(!(E(DR))){A(511);break}
AY(Ego);L(v31,1);AL(Ego,v105,v106);if(!(BO(Ego,64,35,92,65))){A(512);break}
L(v106,92);Z(v106,v105);W(v106,79);A(10);break;case 512:if(!(BO(Ego,85,65,124,97))){A(513);break}
if(!(N(v105,112))){A(514);break}
L(v105,112);case 514:L(v106,135);AC(Ego,15);A(10);break;case 513:if(!(BO(Ego,70,88,84,110))){A(515);break}
M(v106,v105);Y(v106,70);W(v106,125);A(10);break;case 515:if(!(BO(Ego,25,109,70,138))){A(516);break}
L(v106,146);AC(Ego,15);case 516:case 10:if(!(E(f106))){A(517);break}
p(Ego,8);L(v94,2);AS(Ego,v94);L(v94,3);Ai(Ego,v94);A(11);break;case 517:p(Ego,100);L(v60,0);case 11:BN(29,f31);Al(Ego,v105,v106,v82,f30);F(f92);A(12);break;case 511:AZ(Ego);case 508:case 12:if(!(E(f30))){A(518);break}
G(f30);Ag(Ego);if(!(N(v60,0))){A(519);break}
if(!(!E(f106))){A(520);break}
AK(Ego);Bg("Whoops! You slipped and fell down the narrow stairs in the darkness. What a way to die! Next time, use a light.");A(13);break;case 520:CC();p(Ego,91);Bg("You slip from the narrow stairs and fall to your death on the rocks below.");case 13:F(f50);A(14);break;case 519:L(v32,50);if(!(E(f106))){A(521);break}
p(Ego,109);BN(23,f34);F(f35);L(v94,2);AS(Ego,v94);L(v94,1);Ai(Ego,v94);case 521:case 518:case 14:U(v32);if(!(J(v32,1))){A(522);break}
CC();G(f35);G(f31);L(v67,4);L(v68,0);Aw(Ego,v67,v68);AZ(Ego);if(!(E(f106))){A(523);break}
p(Ego,0);L(v94,1);AS(Ego,v94);Ai(Ego,v94);A(15);break;case 523:p(Ego,99);L(v94,1);AS(Ego,v94);Ai(Ego,v94);case 15:r(Ego,2);Ah(Ego);G(f92);L(v31,0);AE(Ego);case 522:if(!E(f106)){if(J(v30,1)){L(v30,2);F(f162);AK(o2);if(J(v92,3)){AC(o3,4)}
BJ(v33);BM();AC(Ego,12);p(Ego,99);L(v94,1);AS(Ego,v94);Ai(Ego,v94);G(f33);L(v84,1);A(16);break}
A(18);break}
case 16:if(!E(DQ)){A(18);break}
if((D("check out")||D("check out","antique shop")||D("check out","swim")||D("check out","stairs"))){Bg("Narrow, slippery stairs descend into this empty room. Your nose detects a foul odor coming from a doorway to the west.");if(N(v84,4)&&!J(v84,1)){Bg("A rat darts across the cold stone floor and into a crack in the wall.")}}
if(D("check out","rat")){if(N(v84,4)&&!J(v84,1)){Bg("The rat darts nervously across the floor.");A(17);break}
Bg("You don't see a rat, but you hear scurrying sounds coming from the cracks in the wall.")}
case 17:if((D("acquire","rat")||D("capture","rat"))){if(N(v84,4)&&!J(v84,1)){Bg("The rat moves too quickly for you ever to catch it.");A(18);break}
Bg("You don't see a rat, but you hear scurrying sounds coming from the cracks in the wall.")}
case 18:if(BO(Ego,9,137,9,152)&&P(v92,66)&&!J(v92,3)){H(67);if(AGI.C)return}
if(J(Cm,1)){if(J(v92,3)){L(v92,0)}
H(65);if(AGI.C)return}
BF(166);if(AGI.C)return;return}}}
MESSAGES[66]=["","You slip from the narrow stairs and fall to your death on the rocks below.","Narrow, slippery stairs descend into this empty room. Your nose detects a foul odor coming from a doorway to the west.","Whoops! You slipped and fell down the narrow stairs in the darkness. What a way to die! Next time, use a light.","The rat darts nervously across the floor.","You don't see a rat, but you hear scurrying sounds coming from the cracks in the wall.","A rat darts across the cold stone floor and into a crack in the wall.","The rat moves too quickly for you ever to catch it."];CONTROLS[66]="<.Z5><r<.g5><l<.l5><g<.r5><Z<.x5><U<.!5><P<K7.l5><K<P7.l5><E<U7.l5><9<Z7.l5><4<g7.l5>.,<l7.l5>.{<r7.l5>.+<x7.l5>.^<!7.l5>.!<^7.l5>.x<+7.l5>.r<{7.l5>.l<,7.l5>.g<.47.l5>.Z<.97.l5>.U<.E7.l5>.P<.K7.l5>.K<.P7.l5>.E<.U7.l5>.9<.Z7.l5>.4<.g7.l5>,<.l7.l5>{<.r7.l5>+<.x7.l5>^<.!7.l5>!<.^7.l5<^L.x<.+7.l5<4LKLPL.Z<.{7.l5.^FPF^F.K<.,7.l5.!5.l5.E>47.l5.x5.r5.9>97.l5.r5.x5.4>E7.l5.r5.x5,>K7.l5.l5.!5{>P7.l5.g5.!5{>U7.l5.U5.^5{>Z7.l5.K5.+5{>g7.l5.E5.+5{>l7.l5.45.{5{>r7.l5{5.,5{>x7.l5^5<45{>!7.l5x5<E5+>^7.l5l5<K5+>+7.l5Z5<P5KLZ>{7.l5U5<P5K5E5Z>,7.l5K5<U5K5E5Z>.47.l595<Z5K5E5Z>.97.l5<g5K5E5Z>.E7<.,5K5E5Z>.K7<.{5K5E5Z>.96E7<.+AE5E5Z>.96K7<rhx595E5E5Z>.96P7<g5lLZ595E5E5Z>.96K697<U5!LP595E5E5Z>.96K6E7<P5!5EAK595E5E5Z>.96K6K7<E5^5E595E595E5E5Z>.96K6P7<45+5E5E59595E5E5Z>.96K6K697.,5+5E5EQE5E5Z>.96K6K6E7.{5+5E5E59595E5E5Z>.96K6K6K76.^5+5E5E5K5E5E5Z>.96K6K6K6.rN5+5E5E5K5E5E5Z>.96K6K6E6.!C,5E5E5K5E5E5Z>.96K6K696.{C+5E5E5K5E5E5Z>.96K6P6<47+5E5E5K5E5E5Z>.96K6K6<97+5E5E5K5E5E5Z>.96K6E6<E7+5ELK5E5E5Z>.96U6<K7.gLr>.96P6<K7<U>.96K6.gSZC<Z>.96E6.ZCUX<l>.9696.Z7<.U>.E6.Z7<.Z>.96.Z7<.g>.46.Z7<.l>,6.Z7<.r>{6.Z7<.x>+6.Z7<.!>^6.Z7<.^>!6.Z7<.+>x6.Z7<.{>r6.Z7<.,>l6.Z7>4>g6.Z7>9>Z6.Z7>E>U6.Z7>K>P6.Z7>P>K6.Z7>U>E6.g7>U>96.g7>Z<{BZMZ6.g7>g<^BEWP6P6.g7>l<xB{6K6.g7>r<lB.9G.g7>x<ZB<^7>!<U6<+7>^<KB<+7>+<E6<{7>{<96<{7>,.,B<{7>.4.{6<,7>.9.+6<,7>.E.^6<,7>.K.!6<,7>.P.x6<,7>.U.x6NUH<4697>.Z.x6PSKC.,6>.g.x6{X.x6>.Z<!C.+6>.U<^7.{6>.P<^7.,6>.K<+7.,6>.E<+7<46>.9<{7<46>.4<,C.,6>,<.9C.{6>{<.KC.^6>{<.UC.!6>+<.gC.x6>^<.r7.x6>!<.x7.x6>x<.!7.x6.4nZG<g<.^7.x6rWqWJ5<Z<.+7.x6ZB.q5<U<.{7.x6KB.%5<P.,R.!7.xG.;5<K.{6Tb.U7.r6<D5KF.^.+6-b{7.l<TFD5.^.^6.TRx7.Z<%5.!.^6.wBr7.P<-5.!.!6.-Bl7.E<;5.x.!6.;GZ7.4<.35.x4.Bl6<JBU7{<.D5.r46{JBU6<YGK7^<.JA.l46{TB9B<wBE7x<.YA.Z46,Y6<]B97l<.qA.P46,<.dGZ<.~9A.E46,<.wBK<.]95.946,<.%B>35.946,><.;5.446,><.;5.446,><.;5.446,><.;5.446{/35.446{/35.446{/35.446+/85.446{/35.446{/35.446Zi/35.44bZ6/85.4+6/85.4^69/85.4^6/D5.4!6/J5.4!6/J5.4x6/O5.4x6/O5.4r6/T5.4r6/T5.4l6/Y5.4l6/Y5.4g6/d5.4g6/d5.4";